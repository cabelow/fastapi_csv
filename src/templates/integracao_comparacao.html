<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Compara√ß√£o BTP x AYZ</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h2 { margin-top: 40px; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid #ccc; padding: 6px; }
        th { background: #f0f0f0; }
        .ok { color: green; }
        .erro { color: red; }
    </style>
</head>
<body>

<h1>Integra√ß√£o BTP √ó AYZ</h1>

<h2>üìä Resumo</h2>
<ul>
    <li>Total BTP: {{ resultado.resumo.total_btp }}</li>
    <li>Total AYZ: {{ resultado.resumo.total_ayz }}</li>
    <li class="ok">Matches: {{ resultado.resumo.matches }}</li>
    <li class="erro">Diverg√™ncias: {{ resultado.resumo.divergencias }}</li>
    <li class="erro">N√£o encontrados: {{ resultado.resumo.nao_encontrados }}</li>
</ul>

<h2>‚úÖ Matches</h2>
<table>
    <tr>
        <th>CPF</th>
        <th>BTP ID</th>
        <th>AYZ ID</th>
    </tr>
    {% for item in resultado.matches %}
    <tr>
        <td>{{ item.cpf }}</td>
        <td>{{ item.btp_id }}</td>
        <td>{{ item.ayz_id }}</td>
    </tr>
    {% endfor %}
</table>

<h2>‚ö†Ô∏è Diverg√™ncias</h2>
{% for item in resultado.divergencias %}
    <h3>CPF {{ item.cpf }}</h3>
    <table>
        <tr>
            <th>Campo</th>
            <th>BTP</th>
            <th>AYZ</th>
        </tr>
        {% for campo, valores in item.divergencias.items() %}
        <tr>
            <td>{{ campo }}</td>
            <td>{{ valores.btp }}</td>
            <td>{{ valores.ayz }}</td>
        </tr>
        {% endfor %}
    </table>
{% endfor %}

<h2>‚ùå N√£o encontrados no AYZ</h2>
<table>
    <tr>
        <th>CPF</th>
        <th>BTP ID</th>
    </tr>
    {% for item in resultado.nao_encontrados %}
    <tr>
        <td>{{ item.cpf }}</td>
        <td>{{ item.btp_id }}</td>
    </tr>
    {% endfor %}
</table>

</body>
</html>
